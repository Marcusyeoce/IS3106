<section id="content" class="content">
    <h2>View Booking</h2>

    <div>

        <h3>Booking ID: {{bookingToView.bookingId}}</h3>

        <h3>Booking Date: {{parseDate(bookingToView.bookingDate) | date:'EEE, MMM dd, yyyy'}}</h3>

        <h3>Booking Date: {{parseDate(bookingToView.paymentDate) | date:'EEE, MMM dd, yyyy | HH:mm:ss'}}</h3>

        <h3>Total Ticket Price: ${{bookingToView.totalPrice}}</h3>

        <h3>Description: {{bookingToView.description}}</h3>

        <h3 *ngIf="bookingToView.cancelled == false">Status: Active</h3>
        <h3 *ngIf="bookingToView.cancelled == true">Status: Cancelled</h3>

        &nbsp;

        <button mat-button type="button" label="Cancel Booking" (click)="cancelProc()">Cancel Booking</button> 
        
        <div *ngIf="this.bookingToView.cancelled == false">
            <div *ngIf="cancelProcess == true">
                <p style="font-weight: bold;">Are you sure?</p>
                <button mat-button type="button" label="Cancel Booking" (click)="cancelProc()">No</button> 
                &nbsp;
                <button mat-button type="button" label="Cancel Booking" (click)="cancel()" (click)="cancelProc()" style="color: green;">Yes</button> 
            </div>
        </div>
        <br/>
        <div *ngIf="message">
            <h3>{{message}}</h3>
        </div>

        <h3>Itinerary:</h3>

        <table id="ItineraryTable" style="width:100%; cellpadding: 3px; cellspacing: 1px; text-align: center;">
            <thead>
                <th>Attraction ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Location</th>
                <th>Ticket Price</th>
                <th>Details</th>
                <th>Review</th>
            </thead>
            <tbody>
                <tr *ngFor="let attraction of bookingToView.attractionEntities">
                    <td>{{attraction.attractionId}}</td>
                    <td>{{attraction.name}}</td>
                    <td>{{attraction.description}}</td>
                    <td>{{attraction.location}}</td>
                    <td>${{attraction.unitPrice}}</td>
                    <td>
                        <a routerLink="/viewAttraction/{{attraction.attractionId}}">View More</a>
                    </td>
                    <td>
                        <a routerLink="/writeReview/{{attraction.attractionId}}">Review</a>	  
                    </td>

                </tr>
            </tbody>
        </table>
    </div>
</section>